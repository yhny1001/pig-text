<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æµ‹æµ‹ä½ æ˜¯ä¸æ˜¯çŒª</title>
  <!-- Tailwind CSS v3 -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FFB6C1', // æµ…ç²‰è‰²
            secondary: '#F5F5F5', // æµ…ç°è‰²
            accent: '#FF69B4', // äº®ç²‰è‰²
            dark: '#FF1493', // æ·±ç²‰è‰²
          },
          fontFamily: {
            sans: ['Arial Rounded MT Bold', 'Avenir', 'Helvetica', 'Arial', 'sans-serif'],
          },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
            'wiggle': 'wiggle 1s ease-in-out infinite',
            'pulse-slow': 'pulse 3s infinite',
            'fade-in': 'fadeIn 0.5s ease-out forwards',
          },
          keyframes: {
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            },
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(10px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            }
          }
        }
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .text-shadow-lg {
        text-shadow: 0 4px 8px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.08);
      }
    }
    
    body {
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }

    /* Quiz Styles */
    .quiz-option {
      @apply w-full p-4 mb-3 text-left bg-white border-2 border-primary rounded-xl text-gray-700 transition-all duration-200;
    }
    .quiz-option:active, .quiz-option:hover {
      @apply bg-primary/10 border-accent transform scale-[1.02];
    }
    .progress-bar-bg {
      @apply w-full h-3 bg-gray-200 rounded-full overflow-hidden;
    }
    .progress-bar-fill {
      @apply h-full bg-accent transition-all duration-300 ease-out;
    }
  </style>
</head>
<body class="bg-secondary min-h-screen flex flex-col items-center justify-center p-4">
  <div class="container max-w-md mx-auto text-center">
    <!-- æ ‡é¢˜ -->
    <h1 class="text-4xl md:text-5xl font-bold mb-6 text-primary text-shadow-lg">
      æµ‹æµ‹ä½ æ˜¯ä¸æ˜¯çŒª <span class="text-accent inline-block hover:animate-spin">ğŸ·</span>
    </h1>
    
    <!-- ä¸»å†…å®¹åŒº -->
    <div class="bg-white rounded-3xl shadow-lg p-6 mb-8 transform transition-all duration-300 hover:shadow-xl min-h-[400px] flex flex-col justify-center">
      
      <!-- 1. å¼€å§‹ç•Œé¢ -->
      <div id="start-view" class="flex flex-col items-center">
        <div class="text-6xl mb-6 animate-bounce-slow">ğŸ¤”</div>
        <h2 class="text-2xl font-bold text-gray-800 mb-4">çŒªçŒªäººæ ¼æµ‹è¯•</h2>
        <p class="text-gray-600 mb-8 px-4">
          æ¯ä¸ªäººå¿ƒä¸­éƒ½ä½ç€ä¸€åªçŒªçŒªã€‚<br>
          å›ç­”å‡ ä¸ªç®€å•çš„é—®é¢˜ï¼Œ<br>
          æµ‹æµ‹ä½ çš„çµé­‚å±äºå“ªç§çŒªï¼
        </p>
        <button onclick="startQuiz()" class="bg-primary hover:bg-accent text-white text-xl font-bold py-4 px-12 rounded-full shadow-md transition-all transform hover:scale-105 active:scale-95">
          å¼€å§‹æµ‹è¯•
        </button>
      </div>

      <!-- 2. ç­”é¢˜ç•Œé¢ (åˆå§‹éšè—) -->
      <div id="quiz-view" class="hidden w-full">
        <!-- è¿›åº¦æ¡ -->
        <div class="mb-6">
          <div class="flex justify-between text-sm text-gray-500 mb-1">
            <span>è¿›åº¦</span>
            <span id="question-counter">1/5</span>
          </div>
          <div class="progress-bar-bg">
            <div id="progress-bar" class="progress-bar-fill" style="width: 0%"></div>
          </div>
        </div>

        <!-- é—®é¢˜ -->
        <h3 id="question-text" class="text-xl font-bold text-gray-800 mb-6 leading-relaxed min-h-[3.5rem]">
          é—®é¢˜åŠ è½½ä¸­...
        </h3>

        <!-- é€‰é¡¹å®¹å™¨ -->
        <div id="options-container" class="flex flex-col gap-2">
          <!-- é€‰é¡¹å°†é€šè¿‡ JS åŠ¨æ€æ’å…¥ -->
        </div>
      </div>
      
      <!-- 3. ç»“æœåŒºåŸŸ (åˆå§‹éšè—) -->
      <div id="result-area" class="hidden animate-fade-in">
        <div class="bg-primary/10 rounded-2xl p-6 flex flex-col items-center justify-center mb-6 border border-primary/20">
          <img id="result-emoji" class="w-32 h-32 mb-4 float-animation object-contain" src="image/pig.png" alt="çŒª">
          <h2 id="result-title" class="text-3xl font-bold text-gray-800 mb-2">çŒª</h2>
          <p id="result-description" class="text-accent font-medium mb-4 text-lg">
            ä½ æ˜¯ä¸€åªå¯çˆ±çš„å°çŒªçŒªï¼
          </p>
          <p id="result-analysis" class="text-gray-600 text-sm leading-relaxed bg-white/50 p-4 rounded-xl">
            åˆ†æåŠ è½½ä¸­...
          </p>
        </div>
        
        <div class="flex flex-col gap-3">
            <button id="retest-button" class="bg-primary text-white py-3 px-6 rounded-full font-bold hover:bg-accent transition-colors shadow-md">
            ğŸ”„ å†æµ‹ä¸€æ¬¡
            </button>
        </div>
        
        <p class="text-gray-400 text-xs mt-4">
          æç¤ºï¼šæˆªå›¾ä¿å­˜ä½ çš„çŒªçŒªå½¢æ€å§ï¼
        </p>
      </div>
    </div>
    
    <!-- é¡µè„š -->
    <footer class="text-gray-500 text-sm">
      <p>ä½œè€…ï¼šnanan <span class="text-primary">ğŸ½</span></p>
      <p class="mt-1 text-gray-400">yhny1001 äºŒæ”¹</p>
    </footer>
  </div>

  <script>
    // é¢˜ç›®æ•°æ®
    const questions = [
      {
        question: "ç°åœ¨çš„ç²¾ç¥çŠ¶æ€æ˜¯ï¼Ÿ",
        options: [
          { text: "ç¾ä¸½çš„ç²¾ç¥çŠ¶æ€ (å‘ç–¯)", score: 5 },
          { text: "æƒ³å»ç å¤´æ•´ç‚¹è–¯æ¡", score: 2 },
          { text: "å°¸æ–‘æ·¡æ·¡çš„ (å®‰è¯¦)", score: 4 },
          { text: "ç›å¡å·´å¡é˜¿å·´é˜¿å·´", score: 3 }
        ]
      },
      {
        question: "é¢å¯¹ä¸€æ¡Œç¾é£Ÿï¼Œä½†åªè¦ä½ åœ¨å‡è‚¥ï¼Ÿ",
        options: [
          { text: "åƒé¥±äº†æ‰æœ‰åŠ›æ°”å‡è‚¥", score: 5 },
          { text: "è¿™æ˜¯æ¬ºéª—é¤ (æ¯å¤©éƒ½æ˜¯)", score: 4 },
          { text: "åœ¨è¿™ä¸ªå†°å†·çš„ç¤¾ä¼šåªæœ‰è„‚è‚ªæœ‰æ¸©åº¦", score: 3 },
          { text: "å«æ³ªåƒä¸‰å¤§ç¢—", score: 2 }
        ]
      },
      {
        question: "å‘¨æœ«æ—©ä¸Šçš„ä½ æ˜¯æ€æ ·çš„çŠ¶æ€ï¼Ÿ",
        options: [
          { text: "èµ·çŒ›äº†ï¼Œå†ç¡ä¼š", score: 4 },
          { text: "è¢«å°å°åœ¨åºŠä¸Šäº†", score: 5 },
          { text: "è™½ç„¶é†’äº†ï¼Œä½†çµé­‚è¿˜åœ¨æ¢¦é‡Œ", score: 3 },
          { text: "è¯•å›¾ç¿»èº«ä½†å¤±è´¥äº†", score: 2 }
        ]
      },
      {
        question: "åœ¨ç”µæ¢¯é‡Œé‡åˆ°åŠç†Ÿä¸ç†Ÿçš„äººï¼Ÿ",
        options: [
          { text: "æå‡ºæ‰‹æœºå‡è£…æœ‰å‡ äº¿ç”Ÿæ„", score: 1 },
          { text: "è„šè¶¾æ‰£å‡ºç²¾è£…ä¸‰å®¤ä¸€å…", score: 2 },
          { text: "åªè¦æˆ‘ä¸å°´å°¬ï¼Œå°´å°¬çš„å°±æ˜¯åˆ«äºº", score: 5 },
          { text: "ç›¯ç€æ¥¼å±‚æ•°å­—æ•°ç¾Š", score: 3 }
        ]
      },
      {
        question: "ä½ çš„æ¯æ—¥è¿åŠ¨é‡ä¸»è¦æ¥è‡ªäºï¼Ÿ",
        options: [
          { text: "å–å¤–å–çš„è·¯ä¸Š", score: 5 },
          { text: "åœ¨å³¡è°·/æµ·æ‹‰é²å¤§é™†ç‹‚å¥”", score: 3 },
          { text: "èººç€ç¿»èº«", score: 4 },
          { text: "å‘¼å¸ (ç”Ÿå­˜è¿åŠ¨)", score: 2 }
        ]
      },
      {
        question: "å¦‚æœæ˜å¤©ä¸–ç•Œæœ«æ—¥ï¼Œä½ æœ€ååšçš„äº‹ï¼Ÿ",
        options: [
          { text: "æŠŠèŠ±å‘—å€Ÿå‘—éƒ½åˆ·çˆ†", score: 1 },
          { text: "æŠ±ç€å†°ç®±ä¸æ’’æ‰‹", score: 5 },
          { text: "åˆ ç©ºæµè§ˆå™¨è®°å½• (ç•™å¾—æ¸…ç™½åœ¨äººé—´)", score: 2 },
          { text: "å‘æš—æ‹å¯¹è±¡è¡¨ç™½ (ç„¶åè¯´æ˜¯å¤§å†’é™©)", score: 3 }
        ]
      },
      {
        question: "çœ‹åˆ°æœ‰äººåœ¨æ’å¾ˆé•¿çš„é˜Ÿä¹°ç½‘çº¢çŒªè¹„ï¼Ÿ",
        options: [
          { text: "åŠ å…¥é˜Ÿä¼ (å‡‘çƒ­é—¹æ˜¯å¤©æ€§)", score: 4 },
          { text: "è¿™ä¸€å®šæ˜¯çŒªçŒªçš„é™·é˜±", score: 2 },
          { text: "ç«‹åˆ»ç‚¹å¤–å– (æ‡’å¾—æ’)", score: 5 },
          { text: "ä¸å±‘ä¸€é¡¾ (é™¤éçœŸçš„å¾ˆå¥½åƒ)", score: 3 }
        ]
      },
      {
        question: "å…³äºâ€œæ—©å…«â€çš„çœ‹æ³•ï¼Ÿ",
        options: [
          { text: "æ—©å…«äººï¼Œæ—©å…«é­‚ï¼Œæ—©å…«éƒ½æ˜¯äººä¸Šäºº", score: 1 },
          { text: "æ¯ç­å§ï¼Œèµ¶ç´§çš„", score: 4 },
          { text: "ä»€ä¹ˆæ˜¯æ—©å…«ï¼Ÿç”±äºç¡å¤ªæ­»æ²¡å¬è¯´è¿‡", score: 5 },
          { text: "äººåœ¨å·¥ä½/æ•™å®¤ï¼Œå¿ƒåœ¨çŒªåœˆ", score: 3 }
        ]
      },
      {
        question: "åˆ«äººå¤¸ä½ å¯çˆ±æ—¶çš„ååº”ï¼Ÿ",
        options: [
          { text: "å®³ç¾æ‚è„¸ (å€Ÿæœºå–èŒ)", score: 2 },
          { text: "æˆ‘ä¹Ÿè§‰å¾—æˆ‘å¯çˆ±æ", score: 5 },
          { text: "ä½ æ²¡äº‹å§ï¼Ÿåƒæºœæºœæ¢…å—ï¼Ÿ", score: 3 },
          { text: "åå¼¹ï¼", score: 1 }
        ]
      },
      {
        question: "ä½ çš„ç†æƒ³çŒªç”Ÿæ˜¯ï¼Ÿ",
        options: [
          { text: "æ··åƒç­‰æ­» (æœ€é«˜å¢ƒç•Œ)", score: 5 },
          { text: "é™¤äº†é’±ä¸€æ— æ‰€æœ‰", score: 2 },
          { text: "æˆä¸ºçŒªçŒªä¾ ", score: 1 },
          { text: "åœ¨æ³¥å‘é‡Œä»°æœ›æ˜Ÿç©º", score: 4 }
        ]
      }
    ];

    // ç»“æœæ•°æ®
    const pigResults = [
      {
        id: "human",
        name: "äººç±»",
        emoji: "ğŸ‘¤",
        description: "æ£€æµ‹ä¸å‡ºçŒªå…ƒç´ ï¼Œæ˜¯äººç±»å—ï¼Ÿ",
        analysis: "ä½ æ‹¥æœ‰äººç±»çš„æ€ç»´å’Œæƒ…æ„Ÿï¼Œä¿æŒç€ç†æ€§å’Œæ™ºæ…§ã€‚ä¸è¿‡æœ‰æ—¶å€™é€‚å½“æ”¾æ¾ä¸€ä¸‹ï¼Œå­¦å­¦çŒªçš„ç®€å•å¿«ä¹ä¹Ÿä¸é”™å“¦ï¼"
      },
      {
        id: "pig",
        name: "çŒª",
        emoji: "ğŸ·",
        description: "æ™®é€šå°çŒª",
        analysis: "ä½ æ€§æ ¼æ¸©å’Œï¼Œå–œæ¬¢ç®€å•çš„ç”Ÿæ´»ï¼Œå®¹æ˜“æ»¡è¶³ã€‚åœ¨åˆ«äººçœ¼ä¸­å¯èƒ½æœ‰äº›æ…µæ‡’ï¼Œä½†ä½ çŸ¥é“å¦‚ä½•äº«å—ç”Ÿæ´»çš„ç¾å¥½ã€‚"
      },
      {
        id: "black-pig",
        name: "å°é»‘çŒª",
        emoji: "ğŸ–",
        description: "å°é»‘çŒªï¼Œå¤å‡ºçŒªè„šäº†",
        analysis: "ä½ æœ‰ç€ç‹¬ç‰¹çš„é­…åŠ›ï¼Œå¤–è¡¨ä½è°ƒä½†å†…å¿ƒä¸°å¯Œã€‚é»‘è‰²è±¡å¾ç€ç¥ç§˜å’Œæ·±åº¦ï¼Œä½ çš„æ€§æ ¼ä¹Ÿåƒä¸€æœ¬å€¼å¾—ç»†ç»†å“å‘³çš„ä¹¦ã€‚"
      },
      {
        id: "wild-boar",
        name: "é‡çŒª",
        emoji: "ğŸ—",
        description: "ä½ æ˜¯ä¸€åªå‹‡çŒ›çš„é‡çŒªï¼",
        analysis: "ä½ æ€§æ ¼åˆšå¼ºï¼Œå……æ»¡æ´»åŠ›å’Œå†’é™©ç²¾ç¥ã€‚é‡åˆ°å›°éš¾ä»ä¸è½»æ˜“é€€ç¼©ï¼Œæœ‰ç€åšéŸ§ä¸æ‹”çš„æ„å¿—å’Œå¼ºå¤§çš„ç”Ÿå­˜èƒ½åŠ›ã€‚"
      },
      {
        id: "zhuge-liang",
        name: "çŒªè‘›äº®",
        emoji: "ğŸ·ğŸ§ ",
        description: "çŒªé‡Œæœ€èªæ˜çš„ä¸€ä¸ª",
        analysis: "ä½ èªæ˜ç»é¡¶ï¼Œæœºæ™ºè¿‡äººï¼Œæœ‰ç€éå‡¡çš„æ™ºæ…§å’Œè°‹ç•¥ã€‚åœ¨å…³é”®æ—¶åˆ»æ€»èƒ½æƒ³å‡ºè§£å†³é—®é¢˜çš„åŠæ³•ï¼Œæ˜¯å¤§å®¶çœ¼ä¸­çš„æ™ºå¤šæ˜Ÿã€‚"
      },
      {
        id: "pig-stamp",
        name: "çŒªåœ†ç« ",
        emoji: "ğŸ·ğŸ”´",
        description: "ã€ŠçŒªåœˆé‚£äº›äº‹ã€‹",
        analysis: "ä½ åšäº‹è®¤çœŸè´Ÿè´£ï¼Œæ³¨é‡ç»†èŠ‚ï¼Œæœ‰ç€å¼ºçƒˆçš„è´£ä»»æ„Ÿã€‚ä½ çš„å­˜åœ¨è®©å‘¨å›´çš„ä¸€åˆ‡éƒ½å˜å¾—æ›´åŠ æœ‰åºå’Œå¯é ã€‚"
      },
      {
        id: "zombie-pig",
        name: "åƒµå°¸çŒª",
        emoji: "ğŸ§ŸğŸ·",
        description: "å–œæ¬¢çš„é£Ÿç‰©æ˜¯çŒªè„‘",
        analysis: "ä½ æœ‰ç€ç‹¬ç‰¹çš„ä¸ªæ€§å’Œæ€ç»´æ–¹å¼ï¼Œå¸¸å¸¸è®©äººæ‰æ‘¸ä¸é€ã€‚ä½ çš„åˆ›é€ åŠ›å’Œæƒ³è±¡åŠ›ä¸°å¯Œï¼Œæ€»èƒ½å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æƒŠå–œã€‚"
      },
      {
        id: "skeleton-pig",
        name: "éª·é«…çŒª",
        emoji: "ğŸ’€ğŸ·",
        description: "èµ„æ·±ä¸æ­»æ—",
        analysis: "ä½ å¤–è¡¨çœ‹èµ·æ¥æœ‰äº›å†·é…·ï¼Œä½†å†…å¿ƒæ¸©æš–ã€‚ä½ æœ‰ç€ç‹¬ç‰¹çš„å®¡ç¾å’Œå“å‘³ï¼Œå–œæ¬¢è¿½æ±‚ä¸ªæ€§å’Œä¸ä¼—ä¸åŒã€‚"
      },
      {
        id: "pig-human",
        name: "çŒªäºº",
        emoji: "ğŸ·ğŸ‘¤",
        description: "ä½ æ˜¯çŒªè¿˜æ˜¯äººï¼Ÿ",
        analysis: "ä½ å…¼å…·çŒªçš„å¯çˆ±å’Œäººçš„æ™ºæ…§ï¼Œèƒ½å¤Ÿåœ¨ä¸åŒçš„ç¯å¢ƒä¸­çµæ´»é€‚åº”ã€‚ä½ æœ‰ç€ä¸°å¯Œçš„æƒ…æ„Ÿå’Œå¤æ‚çš„å†…å¿ƒä¸–ç•Œã€‚"
      },
      {
        id: "demon-pig",
        name: "æ¶é­”çŒª",
        emoji: "ğŸ˜ˆğŸ·",
        description: "æ»¡è‚šå­åå¿ƒçœ¼",
        analysis: "ä½ æ´»æ³¼å¥½åŠ¨ï¼Œå–œæ¬¢æ¶ä½œå‰§ï¼Œå……æ»¡äº†æ¶ä½œå‰§çš„ç²¾ç¥ã€‚è™½ç„¶æœ‰æ—¶å€™ä¼šè®©äººå¤´ç–¼ï¼Œä½†ä½ çš„æ´»åŠ›å’Œå¹½é»˜æ„Ÿä¹Ÿç»™å‘¨å›´å¸¦æ¥äº†å¾ˆå¤šæ¬¢ä¹ã€‚"
      },
      {
        id: "heaven-pig",
        name: "å¤©å ‚çŒª",
        emoji: "ğŸ˜‡ğŸ·",
        description: "ä¼¼äº†å–µ~",
        analysis: "ä½ æ€§æ ¼å–„è‰¯ï¼Œå¿ƒçµçº¯æ´ï¼Œæ€»æ˜¯æ„¿æ„å¸®åŠ©ä»–äººã€‚ä½ çš„å­˜åœ¨å°±åƒé˜³å…‰ä¸€æ ·æ¸©æš–ï¼Œç»™å‘¨å›´çš„äººå¸¦æ¥å¸Œæœ›å’ŒåŠ›é‡ã€‚"
      },
      {
        id: "explosive-pig",
        name: "çˆ†ç ´å°çŒª",
        emoji: "ğŸ’£ğŸ·",
        description: "æˆ‘è·Ÿä½ çˆ†äº†ï¼",
        analysis: "ä½ ç²¾åŠ›å……æ²›ï¼Œçƒ­æƒ…ä¼¼ç«ï¼Œæœ‰ç€å¼ºçƒˆçš„æ„ŸæŸ“åŠ›ã€‚ä½ çš„å‡ºç°æ€»èƒ½ç‚¹ç‡ƒå‘¨å›´çš„æ°”æ°›ï¼Œè®©ä¸€åˆ‡å˜å¾—æ›´åŠ æ´»è·ƒå’Œæœ‰è¶£ã€‚"
      },
      {
        id: "black-white-pig",
        name: "é»‘ç™½çŒª",
        emoji: "âš«âšªğŸ·",
        description: "ä¸²å­",
        analysis: "ä½ æœ‰ç€çŸ›ç›¾è€Œç»Ÿä¸€çš„æ€§æ ¼ï¼Œæ—¢æœ‰ç€ä¸¥è‚ƒè®¤çœŸçš„ä¸€é¢ï¼Œä¹Ÿæœ‰ç€æ´»æ³¼å¯çˆ±çš„ä¸€é¢ã€‚ä½ è¿½æ±‚å¹³è¡¡å’Œå’Œè°ï¼Œå–„äºåœ¨ä¸åŒçš„åœºåˆå±•ç°ä¸åŒçš„è‡ªå·±ã€‚"
      },
      {
        id: "pork-skewer",
        name: "çŒªè‚‰ä¸²",
        emoji: "ğŸ¢",
        description: "çœŸæ­£çš„ä¸²å­",
        analysis: "ä½ æ€§æ ¼å¼€æœ—ï¼Œå–„äºä¸äººäº¤å¾€ï¼Œæœ‰ç€å¾ˆå¼ºçš„äº²å’ŒåŠ›ã€‚ä½ å°±åƒç¾é£Ÿä¸€æ ·ï¼Œèƒ½å¤Ÿå¸¦ç»™äººæ»¡è¶³å’Œå¿«ä¹ï¼Œæ˜¯å¤§å®¶éƒ½å–œæ¬¢çš„å¯¹è±¡ã€‚"
      },
      {
        id: "magic-pig",
        name: "é­”æ³•å°‘çŒª",
        emoji: "ğŸª„ğŸ·",
        description: "é©¬çŒªçƒ§é…’",
        analysis: "ä½ æœ‰ç€ä¸°å¯Œçš„æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›ï¼Œæ€»æ˜¯èƒ½å¤Ÿå¸¦ç»™äººæƒŠå–œå’Œæ–°é²œæ„Ÿã€‚ä½ çš„æƒ³æ³•ç‹¬ç‰¹è€Œæœ‰è¶£ï¼Œå¸¸å¸¸èƒ½å¤Ÿå¯å‘ä»–äººçš„æ€ç»´ã€‚"
      },
      {
        id: "mechanical-pig",
        name: "æœºæ¢°çŒª",
        emoji: "ğŸ¤–ğŸ·",
        description: "äººæœº",
        analysis: "ä½ æ€ç»´é€»è¾‘æ¸…æ™°ï¼Œåšäº‹æœ‰æ¡ç†ï¼Œæœ‰ç€å¾ˆå¼ºçš„åˆ†æå’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚ä½ å–œæ¬¢è¿½æ±‚æ•ˆç‡å’Œå®Œç¾ï¼Œæ˜¯ä¸€ä¸ªå¯é çš„åˆä½œä¼™ä¼´ã€‚"
      },
      {
        id: "pig-ball",
        name: "çŒªçŒªçƒ",
        emoji: "ğŸ€ğŸ·",
        description: "æ»šäº†",
        analysis: "ä½ æ€§æ ¼æ´»æ³¼å¥½åŠ¨ï¼Œå……æ»¡äº†é’æ˜¥æ´»åŠ›ï¼Œå–œæ¬¢è¿åŠ¨å’ŒæŒ‘æˆ˜ã€‚ä½ æœ‰ç€å¾ˆå¼ºçš„é€‚åº”èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä¿æŒç§¯æå‘ä¸Šçš„æ€åº¦ã€‚"
      },
      {
        id: "doll-pig",
        name: "ç©å¶çŒª",
        emoji: "ğŸ§¸ğŸ·",
        description: "fufuå°çŒª",
        analysis: "ä½ å¤–è¡¨å¯çˆ±ï¼Œæ€§æ ¼æ¸©æŸ”ï¼Œè®©äººå¿ä¸ä½æƒ³è¦äº²è¿‘å’Œä¿æŠ¤ã€‚ä½ æœ‰ç€å¾ˆå¼ºçš„æ²»æ„ˆèƒ½åŠ›ï¼Œèƒ½å¤Ÿå¸¦ç»™äººå®‰æ…°å’Œæ¸©æš–ã€‚"
      },
      {
        id: "soul-pig",
        name: "çµé­‚çŒª",
        emoji: "ğŸ‘»ğŸ·",
        description: "ä»å†¥ç•Œå½’æ¥çš„çŒª",
        analysis: "ä½ æœ‰ç€ä¸°å¯Œçš„å†…å¿ƒä¸–ç•Œå’Œæ·±åˆ»çš„æ€æƒ³ï¼Œå–œæ¬¢æ€è€ƒäººç”Ÿçš„æ„ä¹‰å’Œä»·å€¼ã€‚ä½ è¿½æ±‚ç²¾ç¥ä¸Šçš„æ»¡è¶³å’Œæˆé•¿ï¼Œæ˜¯ä¸€ä¸ªæœ‰æ·±åº¦çš„äººã€‚"
      },
      {
        id: "crystal-pig",
        name: "æ°´æ™¶çŒª",
        emoji: "ğŸ’ğŸ·",
        description: "çè´µåˆè„†å¼±çš„å°çŒª",
        analysis: "ä½ æœ‰ç€çº¯æ´é€æ˜çš„å¿ƒçµå’Œé«˜é›…çš„æ°”è´¨ï¼Œå°±åƒæ°´æ™¶ä¸€æ ·ç¾ä¸½è€Œçè´µã€‚ä½ è¿½æ±‚çœŸå–„ç¾ï¼Œæœ‰ç€å¾ˆé«˜çš„é“å¾·æ ‡å‡†å’Œå®¡ç¾æƒ…è¶£ã€‚"
      },
      {
        id: "snow-pig",
        name: "é›ªçŒª",
        emoji: "â„ï¸ğŸ·",
        description: "æ´ç™½çš„é›ªçŒª",
        analysis: "ä½ æ€§æ ¼çº¯çœŸï¼Œå¿ƒçµæ´å‡€ï¼Œå°±åƒé›ªä¸€æ ·æ´ç™½æ— ç‘•ã€‚ä½ æœ‰ç€ç‹¬ç‰¹çš„é­…åŠ›å’Œæ°”è´¨ï¼Œè®©äººå¿ä¸ä½æƒ³è¦æ¥è¿‘å’Œäº†è§£ã€‚"
      },
      {
        id: "pig-cat",
        name: "çŒªå’ª",
        emoji: "ğŸ·ğŸ±",
        description: "ä½ æ˜¯ä¸€åªå¯çˆ±çš„çŒªå’ªï¼",
        analysis: "ä½ å…¼å…·çŒªçš„å¯çˆ±å’ŒçŒ«çš„ä¼˜é›…ï¼Œæœ‰ç€ç‹¬ç‰¹çš„é­…åŠ›å’Œä¸ªæ€§ã€‚ä½ æ—¢å–œæ¬¢äº«å—ç”Ÿæ´»çš„ç¾å¥½ï¼Œä¹Ÿæœ‰ç€è‡ªå·±çš„ç‹¬ç«‹æ€æƒ³å’Œä¸»å¼ ã€‚"
      }
    ];

    // çŠ¶æ€å˜é‡
    let currentQuestionIndex = 0;
    let totalScore = 0;

    // DOM å…ƒç´ 
    const startView = document.getElementById('start-view');
    const quizView = document.getElementById('quiz-view');
    const resultArea = document.getElementById('result-area');
    
    const questionCounter = document.getElementById('question-counter');
    const progressBar = document.getElementById('progress-bar');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    
    const resultEmoji = document.getElementById('result-emoji');
    const resultTitle = document.getElementById('result-title');
    const resultDescription = document.getElementById('result-description');
    const resultAnalysis = document.getElementById('result-analysis');
    const retestButton = document.getElementById('retest-button');

    // åˆå§‹åŒ–æ£€æŸ¥
    window.onload = () => {
      const savedResult = localStorage.getItem('pigTestResult_Quiz');
      if (savedResult) {
        try {
          showResult(JSON.parse(savedResult));
        } catch(e) {
          localStorage.removeItem('pigTestResult_Quiz');
        }
      }
    };

    // å¼€å§‹æµ‹è¯•
    function startQuiz() {
      currentQuestionIndex = 0;
      totalScore = 0;
      
      startView.classList.add('hidden');
      resultArea.classList.add('hidden');
      quizView.classList.remove('hidden');
      
      showQuestion();
    }

    // æ˜¾ç¤ºé—®é¢˜
    function showQuestion() {
      const q = questions[currentQuestionIndex];
      
      // æ›´æ–°è¿›åº¦
      questionCounter.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
      const progressPercent = ((currentQuestionIndex) / questions.length) * 100;
      progressBar.style.width = `${progressPercent}%`;
      
      // æ›´æ–°å†…å®¹ (æ·»åŠ æ·¡å…¥åŠ¨ç”»)
      questionText.classList.remove('animate-fade-in');
      void questionText.offsetWidth; // è§¦å‘é‡ç»˜
      questionText.classList.add('animate-fade-in');
      questionText.textContent = q.question;
      
      // ç”Ÿæˆé€‰é¡¹
      optionsContainer.innerHTML = '';
      q.options.forEach((opt, index) => {
        const btn = document.createElement('button');
        btn.className = 'quiz-option flex items-center';
        btn.style.animationDelay = `${index * 0.1}s`;
        btn.classList.add('animate-fade-in');
        // æ·»åŠ é€‰é¡¹å­—æ¯ A, B, C, D
        const letter = String.fromCharCode(65 + index);
        btn.innerHTML = `<span class="font-bold text-primary mr-3 text-lg">${letter}.</span> <span>${opt.text}</span>`;
        
        btn.onclick = () => handleAnswer(opt.score);
        optionsContainer.appendChild(btn);
      });
    }

    // å¤„ç†å›ç­”
    function handleAnswer(score) {
      totalScore += score;
      
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        // ç¨å¾®å»¶è¿Ÿä¸€ä¸‹è®©ç”¨æˆ·çœ‹åˆ°ç‚¹å‡»åé¦ˆ
        setTimeout(showQuestion, 200);
      } else {
        // æœ€åä¸€é¢˜ï¼šå…ˆæŠŠè¿›åº¦æ¡æ‹‰æ»¡å†ç»“æŸ
        progressBar.style.width = '100%';
        setTimeout(finishQuiz, 300);
      }
    }

    // ç»“æŸæµ‹è¯•
    function finishQuiz() {
      quizView.classList.add('hidden');
      generateResult();
    }

    // ç”Ÿæˆç»“æœ
    function generateResult() {
      // åˆ†æ•°èŒƒå›´æ˜ å°„é€»è¾‘
      // æ€»å…±10é¢˜ï¼Œæœ€ä½10åˆ†ï¼Œæœ€é«˜50åˆ†
      
      let resultPool = [];
      
      if (totalScore <= 20) {
        // 10-20åˆ†ï¼šç°å……/å·ç‹/äººç±»/é«˜æ™ºå•†
        resultPool = ['human', 'mechanical-pig', 'zhuge-liang', 'wild-boar', 'crystal-pig'];
      } else if (totalScore <= 30) {
        // 21-30åˆ†ï¼šæ­£å¸¸äºº/ç¤¾ç•œ/å¯çˆ±/ä¼ªçŒª
        resultPool = ['pig-human', 'black-white-pig', 'pig-stamp', 'pork-skewer', 'pig-cat', 'snow-pig'];
      } else if (totalScore <= 40) {
        // 31-40åˆ†ï¼šæ‡’ç‹—/ä¹å­äºº/æœ‰ç‚¹å¤§ç—…
        resultPool = ['pig', 'black-pig', 'magic-pig', 'doll-pig', 'pig-ball', 'demon-pig'];
      } else {
        // 41-50åˆ†ï¼šçº¯ç§çŒª/å‘ç–¯/ä¸å¯åçŠ¶
        resultPool = ['zombie-pig', 'skeleton-pig', 'heaven-pig', 'explosive-pig', 'soul-pig'];
      }
      
      // ä»å¯¹åº”æ± å­ä¸­éšæœºæŠ½å–ä¸€ä¸ªID
      const randomId = resultPool[Math.floor(Math.random() * resultPool.length)];
      
      // åœ¨ pigResults ä¸­æŸ¥æ‰¾å¯¹åº” ID çš„ç»“æœå¯¹è±¡
      const result = pigResults.find(r => r.id === randomId) || pigResults[0];
      
      // ä¿å­˜ç»“æœ
      localStorage.setItem('pigTestResult_Quiz', JSON.stringify(result));
      
      showResult(result);
      playSound('complete');
    }

    // æ˜¾ç¤ºç»“æœ
    function showResult(result) {
      startView.classList.add('hidden');
      quizView.classList.add('hidden');
      resultArea.classList.remove('hidden');
      
      // è®¾ç½®å†…å®¹
      resultEmoji.src = `image/${result.id}.png`;
      resultEmoji.onerror = () => { resultEmoji.src = 'image/pig.png'; };
      resultTitle.textContent = result.name;
      resultDescription.textContent = result.description;
      resultAnalysis.textContent = result.analysis;
    }

    // é‡æ–°æµ‹è¯•
    retestButton.onclick = () => {
      localStorage.removeItem('pigTestResult_Quiz');
      // é‡ç½®è¿›åº¦æ¡
      progressBar.style.width = '0%';
      startQuiz();
    };

    // éŸ³æ•ˆ (ä¿æŒåŸæœ‰)
    function playSound(type) {
      try {
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        if (!AudioContext) return;
        
        const audioCtx = new AudioContext();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        
        if (type === 'complete') {
          oscillator.type = 'sine';
          oscillator.frequency.setValueAtTime(523.25, audioCtx.currentTime);
          oscillator.frequency.setValueAtTime(659.25, audioCtx.currentTime + 0.1);
          oscillator.frequency.setValueAtTime(783.99, audioCtx.currentTime + 0.2);
          
          gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
          
          oscillator.start(audioCtx.currentTime);
          oscillator.stop(audioCtx.currentTime + 0.3);
        }
      } catch (e) {
        console.log('Audio play failed', e);
      }
    }
  </script>
</body>
</html>